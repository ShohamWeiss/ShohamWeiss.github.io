<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Imports TensorFlow.js -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.7.0"> </script>

    <!-- Imports tfjs-vis -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis@1.5.1/dist/tfjs-vis.umd.min.js"></script>

    <!-- bootrap.css -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script defer src="assets/fontawesome/js/all.js"></script>
    <script src="script.js"></script>
    <script defer src="assets/fontawesome-free-6.1.1-web/js/all.js"></script>
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    
    <title>Shoham Weiss Peronal Website</title>
    <link rel="shortcut icon" href="assets/images/user-tie-solid.svg">
</head>

<body style="display:none;">
    <div id="navigation"></div>
    <div class="main-wrapper">
        <section class="p-3 p-lg-2 theme-bg-light">
            <div class="container">
                <a href="portfolio.htm" class="btn btn-primary mb-2 mt-2">Back to portfolio</a>
            </div>
        </section>
        <section class="p-3 p-lg-5 theme-bg">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <h1 class="text-center">Image Colorization</h1>
                        <div class="col-lg-12 text-center p-md-5">
                            <iframe allowfullscreen="true" class="" width="420" height="315"
                            src="https://www.youtube.com/embed/CXVXFkQ4kfY">
                        </iframe>
                    </div>
                    <p class="text-center">
                        This is a project I undertook during my time at the University of North Texas. A model that colorizes images
                    based on pretrained anime styles.
                </p>
                    <p><strong>Github:</strong>
                        <a href="https://github.com/ShohamWeiss/Doorlock">github.com/ShohamWeiss/Doorlock</a>
                    </p>
                    <hr>
                    <h2><i class="fa-solid fa-fingerprint" style="color: gold;"></i> Try it yourself</h2>
                     <!-- text saying loading model -->
                     <hr>
                     <div class="row">
                        <h3 id="loading" class="col-lg-12"> <div id="mySpinner"></div> Loading model...</h3>
                    </div>
                    <h3>Step 1: Upload a file / Draw</h3>
                    <!-- upload image -->
                    <div class="col-lg-12 text-center">
                        <input type="file" name="file" id="file" class="btn btn-secondary" accept="image/*">
                        <input type="submit" value="Upload" onclick="uploadImage()" name="submit" class="btn btn-primary">
                    </div>
                    <!-- canvas to draw on -->
                    <div class="col-lg-12 text-center">
                        <canvas id="canvas" style="border: 1px solid black;" width="500" height="500"></canvas>
                        <!-- spinning loader -->
                    </div>
                    <!-- button for cleating the canvas -->
                    <div class="col-lg-12 text-center">
                        <button onclick="erase()" id="clear" class="btn btn-secondary">Clear</button>
                        <button onclick="confirm()" id="confirm" class="btn btn-primary">Finish Drawing</button>
                        <!-- slider to control stroke width -->
                        <div class="slider-container">
                            <input type="range" min="1" max="100" value="10" class="slider" id="slider">
                        </div>
                        <!-- color picker -->
                        <div class="color-picker-container">
                            <input type="color" id="color" value="#000000">
                        </div>
                    </div>
                    <h3>Step 2: Let the Deep Learning Model Color it for you!</h3>
                    <!-- show 2 images next to eachother -->
                    <div class="row">
                        <img class="col-lg" id="image" src="" alt="before" width="500" height="500">
                        <canvas class="col-lg" style="border: 1px solid black;" id="predicted" src="" alt="predicted" width="500" height="500"></canvas>
                        <!-- button to tell the model to predict -->
                        <div class="col-lg-12 text-center">
                            <button onclick="predictModel()" id="predict" class="btn btn-primary">Predict</button> 
                        </div>
                    </div>
                    <div class="row">
                        <p id="tensor"></p>
                    </div>
                    
                    <h2>More info</h2>
                    <iframe id="myFrame" class="w-100" height="1200" allowfullscreen="true" frameBorder="0" src="image_colorization/ProjectReport.html"></iframe>
                </div>
            </div>
        </div>
    </section>
</div>
</body>

<script>
    $(document).ready(function () {
        // add navigation htm
        $(function () {
            $("#navigation").load("navigation.htm", function () {
                jQuery('#PortfolioNav').addClass('active');
            });
        });
    });
</script>
<script src="image_colorization/script.js"></script>